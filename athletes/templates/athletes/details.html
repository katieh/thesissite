{% extends "athletes/base.html" %}
{% load static %}
{% load template_filters %}

<!DOCTYPE html>
<!-- MODIFIED FROM: -->
<!-- https://github.com/adilmoujahid/DonorsChoose_Visualization/blob/eadde1a537eef4d968628d1d838c07fb1953af52/templates/index.html -->
<!-- https://github.com/keen/dashboards/blob/gh-pages/layouts/two-and-one/index.html -->

<html>
    <head>
        <title>Details</title> 
    </head>

    {% block content %}

        <div class="container-fluid">

            <div class="row">
                <div class="col-sm-11">
                    <h1>{{ activity.name }}</h1>
                </div>

                <div class="col-sm-1">

                    <button onclick="location.href = '{% url 'athletes:edit' activity.id %}';" type="button" class="btn btn-default" aria-label="Left Align">
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </button>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-4" height="130px">
                    <div class="chart-wrapper">
                        <div class="chart-title">
                            Summary
                        </div>

                        <div class="chart-stage">

                            <table class="table-condensed">
                                <tr>
                                    <td>{{ activity.start_time }}</td>
                                </tr>
                                <tr>
                                    <td>Distance:</td>
                                    <td>{{ activity.tot_dist | two_decimals}} miles</td>
                                </tr>
                                <tr>
                                    <td>Elevation Gained:</td>
                                    <td>{{ activity.elevation_gained }} feet</td>
                                </tr>
                                <tr>
                                    <td>Average Speed:</td>
                                    <td>{{ activity.avg_speed | mps_to_time_per_mile}} mins / mile</td>
                                </tr>
                                <tr>
                                    <td>Average Heart Rate:</td>
                                    <td>{{ activity.avg_hr }} bpm</td>
                                </tr>
                                <tr>
                                    <td>Average Cadance:</td>
                                    <td>{{ activity.avg_cadence }} spm</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col-sm-8">

                    <div class="chart-wrapper">
                        <div class="chart-title">
                            Notes
                        </div>
                        <div class="chart-stage">
                            <textarea readonly>{{activity.comments}}</textarea>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Speed Graphs -->
            <div class="row">

                <!-- speed distribution -->
                <div class="col-sm-4">
                    <div class="chart-wrapper">
                        <div class="chart-title">
                            Average Speed Histogram
                        </div>
                        <div class="chart-stage">
                            <div id="speed-histogram">
                                <svg></svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- speed over distance -->
                <div class="col-sm-8">
                    <div class="chart-wrapper">
                        <div class="chart-title">
                            Speed Over Distance
                        </div>

                        <div class="chart-stage">
                            <div id="speed-graph">
                                <svg></svg>
                            </div>
                      </div>

                    </div>
                </div>
            </div>

            <!-- Heart Rate Graphs -->
            <div class="row">

                <!-- heartrate distribution -->
                <div class="col-sm-4">
                    <div class="chart-wrapper">
                        <div class="chart-title">
                            Average Heart Rate Histogram
                        </div>
                        <div class="chart-stage">
                            <div id="hr-histogram">
                                <svg></svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- heartrate over distance -->
                <div class="col-sm-8">
                    <div class="chart-wrapper">
                        <div class="chart-title">
                            Heart Rate Over Distance
                        </div>

                        <div class="chart-stage">
                            <div id="heartrate-graph">
                                <svg></svg>
                            </div>
                      </div>

                    </div>
                </div>
            </div>

            <!-- Altitude Graphs -->
            <div class="row">

                <!-- altitude distribution -->
                <div class="col-sm-4">
                    <div class="chart-wrapper">
                        <div class="chart-title">
                            Elevation Gained Histogram
                        </div>
                        <div class="chart-stage">
                            <div id="elevation_gained-histogram">
                                <svg></svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- altitude over distance -->
                <div class="col-sm-8">
                    <div class="chart-wrapper">
                        <div class="chart-title">
                            Altitude Over Distance
                        </div>

                        <div class="chart-stage">
                            <div id="altitude-graph">
                                <svg></svg>
                            </div>
                      </div>

                    </div>
                </div>
            </div>


            <!-- Cadence Graphs -->
            <div class="row">

                <!-- cadence distribution -->
                <div class="col-sm-4">
                    <div class="chart-wrapper">
                        <div class="chart-title">
                            Average Cadence Histogram
                        </div>
                        <div class="chart-stage">
                            <div id="cadence-histogram">
                                <svg></svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- cadence over distance -->
                <div class="col-sm-8">
                    <div class="chart-wrapper">
                        <div class="chart-title">
                            Cadence Over Distance
                        </div>

                        <div class="chart-stage">
                            <div id="cadence-graph">
                                <svg></svg>
                            </div>
                      </div>

                    </div>
                </div>
            </div>


        {% block javascript %}

            <script>

                var field_graphs = {{field_graphs | safe}}

                var field_histograms = {{field_histograms | safe}}

                console.log(field_graphs)
                console.log(field_graphs["speed-graph"])




                
            </script>

            <script src="{% static 'js/details_graphs.js' %}" type='text/javascript'></script>


        {% endblock %}

    {% endblock %}


</html>